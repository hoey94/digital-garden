---
{"dg-publish":true,"permalink":"/002-lean/股票/量化架构整体设计/","dgPassFrontmatter":true}
---



![image.png|200](https://pic.yihao.de/pic/2025/03/03/67c542f0b51a3.png)



# 一、 数据接入

| 代码    | 公司名称                 |
| ----- | -------------------- |
| CTP   | 上海期货信息技术有限公司         |
| TORA  | 华鑫证券                 |
| FEMAS | 飞马交易（中金所）            |
| XTP   | 中泰证券                 |
| OES   | 上海宽睿信息科技有限责任公司(科技公司) |
| IB    | 盈透证券                 |
| TAP   | 易盛信息                 |
| FUTU  | 富途证券                 |
| TIGER | 老虎证券                 |
| HUOBI | 火币                   |

# 二、整体架构图

![image.png|500](https://pic.yihao.de/pic/2025/03/03/67c53fe56ddb4.png)


# 三、 模块详解

## 1. 接入层
接入层主要提供市场数据导入，其中包含行情和交易数据

## 2. API转换缓冲
API缓冲层主要完成跨平台接口连调

## 3. 应用

应用层主要做数据展示

### 行情

| 字段名           | 含义               | 用途             |
|---------------|------------------|----------------|
| DataTimeStamp | 数据时间戳            | 标识数据生成时间       |
| SecurityID    | 证券名称或代码          | 标识具体交易标的       |
| ExchangeID    | 交易所代码            | 区分不同交易所的相同证券代码 |
| PreClosePrice | 前收盘价             | 计算涨跌幅等指标       |
| LowestPrice   | 当日最低价            | 反映价格波动范围       |
| HighestPrice  | 当日最高价            | 反映价格波动范围       |
| OpenPrice     | 开盘价              | 分析开盘后的市场情绪     |
| LastPrice     | 最新价              | 反映当前市场价格状态     |
| BidPrice1-10  | 买方出价（10档）        | 显示买方报价分布       |
| AskPrice1-10  | 卖方出价（10档）        | 显示卖方报价分布       |
| BidVolume1-10 | 对应买方出价的申报数量（10档） | 反映买方申报力度       |
| AskVolume1-10 | 对应卖方出价的申报数量（10档） | 反映卖方申报力度       |

### 交易
| 字段名         | 含义      | 用途                |
|-------------|---------|-------------------|
| SecurityID  | 证券名称或代码 | 标识具体交易标的          |
| ExchangeID  | 交易所代码   | 区分不同交易所的相同证券代码    |
| TradeTime   | 成交时间    | 记录成交的具体时间点        |
| TradePrice  | 成交价格    | 反映具体的成交价格水平       |
| TradeVolume | 成交数量    | 反映具体的成交量          |
| ExecType    | 执行类型    | 标识成交的具体类型（仅深圳市场有） |
| MainSeq     | 主序列号    | 唯一标识成交记录          |
| SubSeq      | 子序列号    | 辅助标识成交记录          |
| BuyNo       | 买方序号    | 标识买方的订单编号         |
| SellNo      | 卖方序号    | 标识卖方的订单编号         |
| TradeBSFlag | 成交方向标志  | 区分成交的方向           |
| Info1       | 附加信息1   | 提供额外的上下文信息        |
| Info2       | 附加信息2   | 提供额外的上下文信息        |
| Info3       | 附加信息3   | 提供额外的上下文信息        |
### 委托
| 字段名        | 含义      | 用途             |
|------------|---------|----------------|
| SecurityID | 证券名称或代码 | 标识具体交易标的       |
| ExchangeID | 交易所代码   | 区分不同交易所的相同证券代码 |
| OrderTime  | 委托时间    | 记录委托的具体时间点     |
| Price      | 委托价格    | 反映具体的委托价格水平    |
| Volume     | 委托数量    | 反映具体的委托数量      |
| OrderType  | 委托类型    | 标识委托的具体类型      |
| MainSeq    | 主序列号    | 唯一标识委托记录       |
| SubSeq     | 子序列号    | 辅助标识委托记录       |
| Side       | 买卖方向    | 区分委托的方向        |
| Info1      | 附加信息1   | 提供额外的上下文信息     |
| Info2      | 附加信息2   | 提供额外的上下文信息     |
| Info3      | 附加信息3   | 提供额外的上下文信息     |

### 策略

策略用于描述人类买卖的整体生命周期过程，可以抽象为

![image.png|200](https://pic.yihao.de/pic/2025/03/03/67c5436ae7f56.png)

一个交易策略从**信号生成**到**订单执行**的全生命周期：

| 对应阶段   | 用途              |     |
| ------ | --------------- | --- |
| 市场数据输入 | 高频策略、盘口分析       |     |
| 技术信号生成 | 计算指标（如MACD、布林带） |     |
| 订单管理   | 跟踪委托状态、处理撤单/改单  |     |
| 成交反馈   | 计算持仓、盈亏、执行滑点监控  |     |
| 风险管理   | 止损/止盈触发、条件单跟踪   |     |

