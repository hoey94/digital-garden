---
{"uid":20230804181806,"title":"Obsidian 插件：Text Expander 基本语法示例","tags":["自动化","obsidian插件","readme"],"description":"在编辑器中扩展文本快捷键，运行shell命令和python脚本","author":"Brown Bear","type":"other","draft":false,"editable":false,"modified":20230816111338,"dg-publish":true,"permalink":"/lake-of-knowledge/10-obsidian/obsidian/obsidian-text-expander/","dgPassFrontmatter":true}
---


# Obsidian 插件：Text Expander 基本语法示例

> [!Note] 插件名片
> - 插件名称：Text Expander
> - 插件作者：Nikita Konodyuk
> - 插件说明：在编辑器中扩展文本快捷键，运行 shell 命令和 python 脚本
> - 插件分类：[' 自动化 ', 'obsidian 插件 ']
> - 项目地址：[点我访问](https://github.com/konodyuk/obsidian-text-expander)
> - 国内下载地址：[下载安装](https://pkmer.cn/products/plugin/pluginMarket/?obsidian-text-expander)

## 安装与使用

🔺**注意**：

留意，可能有三个插件的名称是相似的。text {{expand}}=text expand；而 text expander 则与其不同，主要是用于统一调出某项参数并且统一修改，并不支持结果返回展示，功能完全不同。如果你安装正确，则应该再命令行中输入 text 能看到 expand / expand all。

## 常用参数

检索式在此暂且不表，仅谈目前 Text{{expand}} 插件支持的参数，插件支持以下的几个参数：

- `$filename` —— 返回搜索结果对应的文件名
- `$lines` —— 返回搜索结果对应的文件的文件全部内容
- `$lines:10` —— 返回搜索结果对应的文件的文件前十行内容（当 10 设置为其它数值时，对应性变化）
- `$ext` —— 返回搜索结果对应的文件的后缀名
- `$created` —— 返回搜索结果对应的文件的创建时间
- `$size` —— 返回搜索结果对应的文件的大小
- `$parent` —— 返回搜索结果对应的文件的所在文件夹名
- `$path` —— 返回搜索结果对应的文件的路径
- `$frontmatter:NAME` —— 返回搜索结果对应的文件的 YAML 的任一项结果（例如 `$frontmatter:Stars` 返回 Stars 的值）
- `$header:##` —— 返回搜索结果对应的文件的所有二级标题
- `$header:### HEADER` —— 返回搜索结果对应的文件的所有匹配 `HEADER` 的三级标题
- `$blocks` —— 返回搜索结果对应的文件的所有块（不包括隐藏块）
- `$match` —— 返回搜索结果对应的文件的所有匹配行（笔者一直希望得到的功能，在 0.9.0 已经支持）

## 基本格式

```expander

/^(.*) 关键词 (.*)\n/ 检索什么

$match 显示什么

```

当搜索出来后，<-->会被作为该段搜索结果的结束标识。如果没有，则它会一直向下包含直到遇到该标志，这中间的内容都被识别为 expander 的检索结果。如果仅仅检索一次而不修改这也许没什么，但是如果你再次检索并更新结果时，这个标志就会变得非常重要。因为它将实现旧检索结果和新检索结果的替换。

如果你在修改检索代码时，不删除下面的<-->则当修改完，点击生成，则会呈现对比结果。当然，你可以选择删除掉

## 例子实操

1.检索包含“孤筏重洋”的文件，并返回文档 yaml 中的标签 + 文件名（留意你 yaml 里写的 tag 有没有加 s，必须一致)

```
孤筏重洋
- $frontmatter:tag [[$filename]]
```

```expander
孤筏重洋
- $frontmatter:tag [[$filename]]
```

输出结果

```
- Book/fiction/fantasy [[《孤筏重洋》]]
```

2.与下文这种检索方式**对比下**：检索包含“植物”的标签，而非文本，并返回其 yaml 数据中的标签 + 文件名 (留意这里的标签只能写全，不能写嵌套标签的一部分）

```
tag: Eng
- $frontmatter:tag [[$filename]]
```

```expander
tag: Eng
- $frontmatter:tag [[$filename]]
```

输出结果

```
- [[To_be_read]]
- Eng/词根 [[../Z-English卡片/ag, act［L］= to do or drive 做；驱使]]
- [[../Z-English卡片/英语单词开音节 & 闭音节]]
- Book/fiction,Eng [[《Lord of the Flies》]]
- Book/fiction/politics,Eng [[《Animal Farm》]]
```

> 请体会下上述两种表述的差别
> 而且这也和系统自带检索有一点差别，即 text expend 不检索自己，但系统会

1. `$lines` —— 返回搜索结果对应的文件的文件全部内容

```
人工智能 & 工作替代
$lines
```

```expander
人工智能 & 工作替代
$lines
```

输出结果

```
author: Hinton
url: <https://wallstreetcn.com/articles/3687956>
posting_time: 2023-03
```

**问：那么如果它可以评价诗歌和制作电影，还有什么工作算什么有创造性的工作？**

答：如果你**回顾历史，看看自动取款机，这些现金机出现时，人们说这是银行柜员的终结。但实际上，它并没有终结银行柜员的职位**.现在银行柜员处理更复杂的事情，并且需要编码人员。所以人们说，这些工具可以进行简单的编码，并且通常能够正确地执行，你只需要让它编写程序，然后检查它，这样你就能够快速工作 10 倍。**你可以只用 10% 的程序员，或者你可以使用相同数量的程序员，生产 10 倍的东西**。

我认为会有很多这样的例子，一旦这些工具开始有创造性，就会创造出更多的东西。这是自工业革命以来最大的技术进步。

4.`$lines:5` —— 返回搜索结果对应的文件的文件**正文**前五行内容（当 10 设置为其它数值时，对应性变化）

```
人工智能 & 工作替代
$lines:5
```

```expander
人工智能 & 工作替代
$lines:5
```

输出结果

```
**问：那么如果它可以评价诗歌和制作电影，还有什么工作算什么有创造性的工作？**

答：如果你**回顾历史，看看自动取款机，这些现金机出现时，人们说这是银行柜员的终结。但实际上，它并没有终结银行柜员的职位**.现在银行柜员处理更复杂的事情，并且需要编码人员。所以人们说，这些工具可以进行简单的编码，并且通常能够正确地执行，你只需要让它编写程序，然后检查它，这样你就能够快速工作 10 倍。**你可以只用 10% 的程序员，或者你可以使用相同数量的程序员，生产 10 倍的东西**。
```

5.`$ext` —— 返回搜索结果对应的文件的后缀名

```
tag: Eng
$ext
```

```expander
tag: Eng
$ext
```

6.`$header:#` —— 返回搜索结果对应的文件的所有一级标题

```
英语词根与单词的说文解字新版
$header:#
```

```expander
英语词根与单词的说文解字新版
$header:#
```

输出结果

```
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#词根词缀基础关系图]]
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#英语语系]]
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#构词法]]
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#一、词形]]
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#二、读音&重音]]
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#三、词义]]
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#四、词性]]
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#特殊词根的判别问题]]
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#同源同义异形根]]
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#120个常见词根]]
```

7.`$header:## HEADER` —— 返回搜索结果对应的文件的所有匹配 `HEADER` 的二级标题，而后面的 HEADER 你可以替换成你的文本，因为二级标题可能有很多个，你通过文本，你可以筛选除特定的二级标题，同时该文本不需要写全，有关键字即可

```
英语词根与单词的说文解字新版
$header:## 元音组合
```

```expander
英语词根与单词的说文解字新版
$header:## 元音组合
```

输出结果

```
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#3. 单个元音 → 元音组合]]
```

8.`$blocks` —— 返回搜索结果对应的文件的所有块（不包括隐藏块）

```
英语词根与单词的说文解字新版
$blocks
```

```expander
英语词根与单词的说文解字新版
$blocks
```

输出结果

```
[[2-Study/Book/Booknote/《英语词根与单词的说文解字新版》#^5tjahf]]
```

>返回后也只是定位到文章开头，而不是直接定位到这个所谓的块

9.`$match` —— 返回搜索结果对应的文件的所有匹配行，/^(.\*) 牛腩 (.\*)\\n/ 在该符号之前

```expander
/^(.*)拉丁动词(.*)\n/  
$match
```

输出结果

```
**来自同一个词源**（多为**拉丁动词**），(由于不同动词变化形态）演化为**不同形状**，但是**相同含义**的词根。

可以从拉丁动词**读音演化**的角度来识别。

除了在常见的拉丁动词中适用外，偶尔也可能适用于（拉丁/希腊）名词词根的异形。
```