---
{"uid":20230716084150,"title":"Obsidian 附件管理","tags":["图片","管理"],"description":"深入分析及分享Obsidian的附件管理","author":"windilycloud","type":"basic","draft":false,"editable":false,"modified":20230717105908,"dg-publish":true,"permalink":"/lake-of-knowledge/10-obsidian/obsidian/obsidian/","dgPassFrontmatter":true}
---


# Obsidian 附件管理

## 前言

目前来说，附件管理主要有以下几个方面：

- 是否对附件重命名
- 是否对附件所在文件夹进行分类
- 是否会对附件二次引用：素材管理需求，论文写作需求
- 是否有需求发布到其它平台：Markdown 本地文件在上传知乎，微信这些平台不容易操作
- 是否在乎隐私：上云即无隐私
- 是否需要管理附件：素材管理需求

不纳入考虑的方面有：

- 二次编辑需求：不管是在云端和本地，都很好实现
- 笔记迁移问题：图床可以靠个人域名永久生效，本地不存在迁移问题

按照以上方面，对用户的心智压力进行划分，主流的管理形式有下列几种：

1. 低心智压力
	1. 完全不关心存储形式和存储文件名：图床
2. 中心智压力
	1. 笔记和图片都视为一级公民，共同存储：附件文件夹相对笔记上一级存储
	2. 关心存储形式但不关心存储文件名：本地单文件夹一把梭
3. 高心智压力
	1. 素材管理严格按照一定标准命名：如 `时间-地点-人物-场景` 这样的摄影文件
	2. 附件云端存储，关心文件名
	3. 附件本地分文件夹存储，关心文件名

## 常见附件管理手段介绍

### 图床

图床是一种用于存储和管理图片的在线服务。它允许用户上传图片，并生成一个唯一的 URL 链接，以便在任何需要显示图片的地方使用。用户可以将这些链接用于社交媒体、博客、论坛等平台上，而不必担心图片的存储和传输问题。图床通常提供简单易用的界面和可靠的存储服务，使用户能够轻松地上传、管理和共享他们的图片。

图床的几个典型缺点是：

- 离线不可用：尽管不是马上离线不可用（因为 ob 有缓存图片），但在某些无法访问网络的情况，是不可用的
- 隐私性差：上网默认没有隐私

以下是一些常见问题：

**服务提供商问题**

不建议任何第三方不提供自定义域名的方式搭建图床，理由如下：

1. 域名加图片名是附件的唯一标识：去腾讯阿里买个十年的丑域名也就几十块，但它能让图片的链接十年不变，续费也不贵
2. 服务提供商可以随便换：借助自定义域名，笔记内无需任何改动，换服务提供商也就是绑定域名和下载上传已有文件两件事

在此点名避免踩坑（下面的服务本身也不是给你当图床用的）：

- gitee：有炸了的前科，同时限制库大小，不能自定义域名不建议放
- github：访问有问题
- vika：不能自定义域名，有风控措施
- ......

推荐使用企业级的图床，比如 OSS，COS，这样的，由于其是互联网基础设施，可靠性和稳定性都是值得信赖的。

**价格问题**

大多数图床提供商提供免费的图床额度，但 OSS 的优越性使得我们没必要使用这样的提供商，国内阿里，腾讯，华为都是比较大的基础设施提供商。

一般来说，OSS 的价格分为两个方面：

1. 存储空间：按量付费或者按资源包付费（即套餐），价格一般在 0.09 元/GB/月，即九分钱一个 GB 一个月，一个 GB 只存截图 500kb 左右大概能存 2000 张
2. 下载流量：按量付费或者按资源包付费（即套餐），价格一般在 0.5 元/GB，即五毛钱一个 GB

总而言之，成本大概在 1 元/GB/月以内，但大多数情况下大部分人是远远用不到 1GB/月的，大家可以在 [腾讯云对象存储计费模式 ](https://buy.cloud.tencent.com/price/cos/calculator) 验证结果，我日常使用买了个 40GB 的资源包，月均下行流量也就几毛钱。如果图片数量特别巨大，购买资源包更加划算。

**管理问题**

图床在绝大多数情况下是不需要管理的，得益于价格低廉，稳定可靠，我们可以无需关心图片放在哪？是否冗余？是否需要修改？我们只需要一股脑的用时间戳命名唯一的图片，这张图片就永远不会丢失，链接永远都可靠。

相比于管理图片，命名图片所带来的成本，图床完全可以靠可靠性和稳定性碾压这个成本：

- 我不需要这张图片了：删了这张图片即可，图床有冗余？但耐不住便宜，我能允许 1 个 2 个 GB 的冗余，成本就只是多出九分钱的存储空间。
- 我需要修改这张图片：修改后重新上传即可，图床冗余？便宜。
- 我上传错了图片：重新上传即可，图床冗余？便宜。有强迫症可以用 [PicList](https://github.com/Kuingsmile/PicList)，是 Picgo 的升级版，可以删除图片。

极低的成本，给了我们随意挥霍，释放管理带来的压力。如果强迫症非常严重，可以写个脚本，定期从笔记读取链接，删除图床的冗余链接即可。

### 本地

图片附件存本地有很多不同形式：存相对于笔记的文件夹、存一个固定文件夹不分类、存一个固定文件夹分类、使用相对路径、使用 wiki 链接、使用绝对路径、图片命名为时间戳，图片命名为笔记名加序号，图片命名为内容标题等

这些操作有不同的好处，可能是迁移性，可能是查找的便利性，可能是隐私性，也可能是本地的可访问性，但也同时带来了很多难以接受的坏处：

- 污染自动补全：可能大量和内容无关的链接充斥着双链的自动补全
- 过高的心智压力：截个图还要考虑命名和存储位置
- 管理压力：笔记备份体量巨大，备份的成本高，版本管理，同步，都是一些问题。尽管可以忽略，但配置起来或者出问题了挺头大的

## 衡量利弊

没有一种解决方式是完美的，对于我本人来说，纯云端无隐私可言，纯本地管理压力大都是不可接受的。最好的方式是二者结合起来。

对于以下情况存图床：

- 无隐私
- 使用频率低：截图这样的
- 图片较小：几百 MB 的图片就别存图床了，慢不说，钱受不了

对于以下情况存本地：

- 隐私图片：个人周围环境的照片，朋友合照，未发表的论文，专利图，公司涉密信息，有版权的东西等
- 图片很大：8k 壁纸，巨幅电路图，高清摄像等
- 有管理需求：图片素材，需要分类的图片等

在实际使用过程中，二者可以无缝配合。云端到本地可以使用 [[lake-of-knowledge/10-Obsidian/Obsidian社区插件/obsidian-local-images-plus\|obsidian-local-images-plus]] 直接右键下载图片到本地，本地到云端可以使用 image-auto-upload 插件粘贴直接上传。你甚至可以临时存本地，在适当的时候右键文件夹批量上传到图床，本地笔记图片链接自动更改。

除此之外，对于本地图片附件有管理需求的情况，可以搭配第三方软件使用，比如 billfish，我本人需要收集点素材好在写文章时候吹水：

![image.png](https://cdn.pkmer.cn/images/202307171056628.png!pkmer)

给图片打上 Obsidian 标签方便取用是非常必要的，不然一个一个懒得找。

除此之外，本地图片除了让第三方软件管理，也可以在未来交给人工智能训练，目前的 stable diffusion 以及 midjourney 都能做到给出参考图生成图片，保留在本地并进行一定管理可以留给未来无限可能。